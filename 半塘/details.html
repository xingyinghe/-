<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
        <title>半塘_发现值得买的好东西</title>
        <link rel="shortcut icon" href="favicon.ico" />
        <link rel="stylesheet" type="text/css" href="css/base.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <!--<link rel="stylesheet" type="text/css" href="css/logoin.css" />-->
        <link rel="stylesheet" type="text/css" href="css/details.css" />
        <link rel="stylesheet" type="text/css" href="css/register.css" />
        <link rel="stylesheet" type="text/css" href="http://at.alicdn.com/t/font_511861_a7xvx3eyq52ke29.css" />
        <script src="js/login.js"></script>

    </head>
    <style>


    </style>
<body>

<!--head部分开始-->
<div id="header">
    <div class="header-w w">

        <div class="menu-left fl ">
            <a href="#" class="head_logo fl"></a>
            <a href="index.html" class="menu current fl">首页</a>

            <a href="find.html" class="menu fl">发现</a>
            <a href="good.html" class="menu fl">好物</a>
            <a href="#" class="menu fl">优惠券
                <i class="new"></i>
            </a>

            <div class=" fr" id="dengzhu">
                <!--<a href="javascript:;" class="menu fl" id="btn">登录</a>-->
                <!--<a href="#" class="menu fl" id="reg">注册</a>-->
                <a href="shoppcar.html" id="car" class="menu fl"><i class="iconfont icon-shoppingcart2"></i>购物车</a>

            </div>
        </div>
        <div class="menu-right fr">
            <div class="search fr">


                <input type="text" name="q" id="q" value="搜索你想要的" />
                <i class="iconfont icon-find"></i>


            </div>
        </div>
    </div>
</div>

<!--商品详情部分-->
<div class="content w">
    <form action=" ">
        <fieldset class="fieldset">
            <legend align="right">举报</legend>
            <div class="con-l fl">
                <div  class="small">
                    <div id="small1">
                        <div id="img"></div>
                        <div class="mask"></div>
                    </div>

                    <ul id="ul">
                        <li id="btn1">
                            <img src="img/big1.jpg" alt="" />
                        </li>
                        <li id="btn2">
                            <img src="img/big2.jpg" alt="" />
                        </li>
                        <li id="btn3">
                            <img src="img/big3.jpg" alt="" />
                        </li>
                        <li id="btn4">
                            <img src="img/big4.jpg" alt="" />
                        </li>
                        <li id="btn5">
                            <img src="img/big5.jpg" alt="" />
                        </li>
                    </ul>

                </div>
                <div class="big fl">

                    <img src="img/big1.jpg" id="bigimg" />

                </div>
                <div class="con-l-bo">
                    <span class="shoucang"><i class="iconfont icon-xing"></i>收藏宝贝（153人气）</span>
                    <i class="con-l-bo-i">|</i>
                    <span class="sho"><i class="iconfont icon-hudiejie"></i>分享</span>
                </div>
            </div>
            <div class="con-c fl clearfix">
                <h4>韩国卡通可妮兔莎莉鸡保温杯学生大肚杯大容量304不锈钢便携水杯</h4>
                <p>极有家认证[优质网店]：5年好店，权威认证，买退无忧</p>
                <p class="pp">商家承诺：免费提供“运费险”，退货最高获赔25元运费理赔 <i class="iconfont icon-wenhao"></i></p>
                <ul>
                    <li class="price clearfix">
                        <span >价格</span>
                        <div class="priceDiv fl">
                            <em>￥</em>
                            <em>169.00</em>
                        </div>
                    </li>
                    <li class="coupon clearfix">
                        <span >优惠</span>
                        <div class="couponDiv fl">
                            <div class="clearfix">
                               <span> <i class="iconfont icon-jinbi"></i></span>
                                <span>淘金币可抵3.38元</span>
                            </div>
                            <div>
                                <div>
                                   <span> <i class="iconfont icon-youhuiquan"></i></span>
                                    <span>50元店铺优惠券，满999元可用 </span>
                                    <span><a href="#">领取</a></span>
                                </div>
                                <div>
                                    <span> <i class="iconfont icon-youhuiquan"></i></span>
                                    <span>20元店铺优惠券，满666元可用 </span>
                                    <span><a href="#">领取</a></span>
                                </div>
                            </div>

                            <div>
                               <span> <i class="iconfont icon-youhuiquan1"></i></span>
                                <span>满58,享部分地区包邮</span>

                            </div>
                        </div>
                    </li>

                    <li class="express  clearfix">
                        <span>配送</span>
                        <div class="expressDiv fl">
                            <span>江苏南通    至</span>
                            <div class="fl province"><span>北京 崇文区 <i class="iconfont icon-xiaosanjiao"></i></span></div>
                            <div class="fl exp"><span>快递 免运费 <i class="iconfont icon-xiaosanjiao"></i></span></div>
                        </div>
                    </li>
                    <hr/>
                    <li class="size  clearfix">
                        <span>尺寸</span>
                        <div class="sizeDiv fl">
                            <div class="fl sizecurrent">130x160cm</div>
                            <div class="fl ">150x180cm</div>
                            <div class="fl ">180x200cm</div>

                        </div>
                    </li>
                    <li class="color clearfix">
                        <span>颜色分类</span>
                        <div class="colorDiv fl">
                            <div><img src="img/big1.jpg" alt="" style="width: 26px;height: 26px"></div>

                        </div>
                    </li>
                    <li class="num  clearfix">
                        <span>数量</span>
                        <div class="numDiv fl">
                            <div class="jian fl">-</div>
                            <div class="number fl"><input type="text" name="quantity" value="1" class="quantity" /></div>
                            <div class="jia fl">+</div>
                            <span >件（库存222件）</span>
                        </div>
                    </li>
                    <li class="btn">
                        <input type="button" class="" value="立即购买" id="bot">
                        <input type="button" class="" value="加入购物车" id="shoppcar">
                        <i></i>
                    </li>
                    <li class="c-bo"><img src="img/c-c.JPG" alt=""></li>
                </ul>
            </div>
            <div class="con-r fr"><img src="img/c-r.JPG" alt=""></div>
        </fieldset>
    </form>

</div>

<div class="detailsbo w">
    <img src="img/cccc.JPG" alt="">
</div>

<!--侧边栏-->
<div class="nav">
    <div class="nav-l fl">
        <div class="shocar">
           购物车
        </div>
        <div class="nav-back-top" >
            <div class="back-top-a" onclick="pageScroll()">
                <i class="iconfont icon-fanhuidingbu1"></i>
            </div>
        </div>
    </div>
    <div class="nav-r fr">
        <span>购物车</span>
    </div>
</div>

</body>
<script src="js/myQuery1.2.js"></script>
<!--尺寸-->
<script>
    var size = document.getElementsByClassName('sizeDiv')[0].children;
    for(var i=0;i<size.length;i++){
        size[i].onclick = function(){
            for(var j=0;j<size.length;j++){
                size[j].className = 'fl';
            }
            this.className = 'fl sizecurrent';
        }
    }
</script>



<!--数量加减-->
<script>
    var add = document.getElementsByClassName('jia')[0];
    var del = document.getElementsByClassName('jian')[0];
    var numin = document.getElementsByClassName('quantity')[0];
    // var val = numb.innerHTML;
    var val=Number(numin.value);

    add.onclick=function(){
        addn();
    };

    del.onclick=function(){
        deln();
    };

    function addn(){//给另一个按钮绑定加法事件，直接调用就可以实现
        val++;
        numin.value=val;
    }
    function deln(){//给另一个按钮绑定减法法事件，直接调用就可以实现
        if(val!=1){
            val--;
            numin.value= val;
        }else{
            numin.value=1;
        }
    }
</script>



<!--图片hover大图变-->
<script type="text/javascript">


    function fn(btn,bg,bigg){
        var oBtn = document.getElementById(btn);
        var oBg = document.getElementById("img");
        var big = document.getElementsByClassName('big')[0];
        var bigImg = document.getElementById("bigimg");
        oBtn.onmouseover = function(){
            oBg.style.backgroundImage = bg;


                bigImg.setAttribute('src',bigg);


        }

    }

    fn('btn1',"url(img/big1.jpg)","img/big1.jpg");
    fn('btn2',"url(img/big2.jpg)","img/big2.jpg");
    fn('btn3',"url(img/big3.jpg)","img/big3.jpg");
    fn('btn4',"url(img/big4.jpg)","img/big4.jpg");
    fn('btn5',"url(img/big5.jpg)","img/big5.jpg");
</script>

<script>
    var box =document.getElementsByClassName('con-l')[0];
    var small = document.getElementsByClassName('small')[0];
    var big = document.getElementsByClassName('big')[0];
    var bigImg = big.children[0];
    var mask = document.getElementsByClassName('mask')[0];
    var sml = document.getElementById('small1');
    var ul = document.getElementById('ul');

    // mask跟随鼠标移动
    small.onmousemove = function(ev){
        var e = ev || window.event;

       // var x = e.clientX + sml.offsetLeft - box.offsetLeft - sml.offsetWidth / 2;
       // var y = e.clientY + sml.offsetTop - box.offsetTop - sml.offsetHeight / 2;
        var x = e.clientX +scroll().left- box.offsetLeft- mask.offsetWidth/2;
        var y = e.clientY+scroll().top - box.offsetTop - mask.offsetHeight/2;

        if (x < 0){
            x = 0;
        }else if(x > sml.offsetWidth - mask.offsetWidth){
            x = sml.offsetWidth - mask.offsetWidth;
        }
        if (y < 0){
            y = 0;
        }else if(y > sml.offsetHeight - mask.offsetHeight){
            y = sml.offsetHeight - mask.offsetHeight;
        }

        mask.style.left = x + 'px';
        mask.style.top = y + 'px';

        // 计算mask的left和top在small的width和height的比例
       var percentX = x / sml.offsetWidth;
        var percentY = y / sml.offsetHeight;
       // console.log(percentX,percentY);
        // 大图移动
                var left = percentX * bigImg.offsetWidth;
            var top = percentY * bigImg.offsetHeight;
            if (left > bigImg.offsetWidth - big.offsetWidth){
                left = bigImg.offsetWidth - big.offsetWidth;
                console.log(left);
            }
            if (top > bigImg.offsetWidth - big.offsetWidth){
                top = bigImg.offsetHeight - big.offsetHeight;
            }

    bigImg.style.left = -left + 'px';
    bigImg.style.top = -top + 'px';
   // console.log(-percentX)
    };

    // 鼠标进入small时mask和big显示
    // 也可以使用onmouseover，但会把事件传递给子节点
                sml.onmouseenter = function(){
                    mask.style.display = 'block';
                    big.style.display = 'block';
                };
    // 鼠标离开small时mask和big隐藏
    // 也可以使用onmouseout，但会把事件传递给子节点
                sml.onmouseleave = function(){
                    mask.style.display = 'none';
                    big.style.display = 'none';
                };
</script>

<!--侧边栏购物车-->
<script>
    var shocarDiv = document.getElementsByClassName('shocar')[0];
    var navDiv = document.getElementsByClassName('nav')[0];

    shocarDiv.onclick = function () {


        if (navDiv.offsetLeft >= 1415) {
            animation(navDiv, 1300);
            shocarDiv.style.backgroundColor = "red";
        } else if (navDiv.offsetLeft <= 1400) {
            animation(navDiv, 1535);
            shocarDiv.style.backgroundColor = "#999999";
        }


        function animation(obj, target) {
            clearInterval(obj.timer);
            obj.timer = setInterval(function () {
                var dis = (target - obj.offsetLeft) / 10;
                dis = dis > 0 ? Math.ceil(dis) : Math.floor(dis);
                obj.style.left = obj.offsetLeft + dis + 'px';
                if (obj.offsetLeft == target) {
                    clearInterval(obj.timer);
                }
            }, 40);
        }


    }



</script>

<!--返回顶部js-->
<script type="text/javascript">
    function pageScroll(){

        window.scrollBy(0,-100);

        scrolldelay = setTimeout('pageScroll()',80);

        var sTop=document.documentElement.scrollTop+document.body.scrollTop;

        if(sTop==0) clearTimeout(scrolldelay);
    }

</script>


</html>